// Mash lang threads unit.
// Code version: 1.0

uses <bf.mash>

////////////////////////////////////////////////////////////////////////////////
// Some methods
////////////////////////////////////////////////////////////////////////////////

proc fthread(.method, .arg):
  push .arg
  push .method
  cthr
end

proc async(.method, .arg):
  push .arg
  push .method
  cthr
  pcopy
  rthr
end

proc thr_resume(.thread):
  push .thread
  rthr
end

proc thr_suspend(.thread):
  push .thread
  sthr
end

proc thr_terminate(.thread):
  push .thread
  tthr
end

////////////////////////////////////////////////////////////////////////////////
// Thread class
////////////////////////////////////////////////////////////////////////////////
